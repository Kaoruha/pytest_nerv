Metadata-Version: 2.4
Name: pytest-nerv
Version: 0.1.0
Summary: Interactive TUI reporter for pytest that replaces native output with a dual-pane view.
Author: pytest-nerv contributors
License: MIT
Project-URL: Homepage, https://example.com/pytest-nerv
Project-URL: Repository, https://example.com/pytest-nerv.git
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: pytest>=7.3

# Repository Guidelines

## Project Structure & Module Organization
- Place plugin code under `src/pytest_nerv/`. Keep the pytest hook implementations (`pytest_configure`, `pytest_runtest_logreport`, render loop) together for easy tracing.
- Keep TUI rendering helpers in a dedicated module (e.g., `src/pytest_nerv/tui.py`) so status logic and drawing logic stay decoupled.
- Put tests in `tests/`, mirroring module names (e.g., `tests/test_tui.py`, `tests/test_reporting.py`). Add fixtures for fake reports and sample log streams.
- Store non-code assets (ASCII color palettes, sample outputs) in `assets/` if needed; avoid shipping large binaries.

## Setup, Build, Test, and Development Commands
- Create an isolated env: `python -m venv .venv && source .venv/bin/activate`.
- Install for development: `pip install -e .[dev]` to get the plugin plus tooling. If extras are not yet defined, use `pip install -e .`.
- Run all tests: `pytest`. Exercise the TUI loop via `pytest tests/test_tui.py -vv`.
- Lint/format (once configured): `ruff check .` and `ruff format .` or `black .` if Ruff is not available.

## Coding Style & Naming Conventions
- Follow PEP 8 with 4-space indentation; prefer type hints on public functions.
- Module names: lowercase with underscores; classes: `PascalCase`; functions/vars: `snake_case`.
- Keep rendering pure where possible: separate state calculation (status, progress) from terminal side effects.
- Guard third-party imports inside functions if they are optional, to keep plugin import fast.

## Testing Guidelines
- Use `pytest` exclusively; name files `test_*.py` and tests `test_*`.
- Cover state transitions: pending → running → passed/failed/skipped, and the mapping to ANSI blocks in the upper pane.
- For log pane behavior, assert truncation to the fixed height and the toggle to expand (Ctrl+O) when implemented.
- Add regression tests around pytest hook ordering to ensure the plugin does not swallow native output unexpectedly.

## Commit & Pull Request Guidelines
- Commit messages: imperative and scoped (e.g., `Add color legend for running tests`, `Fix log pane overflow`). Keep body lines wrapped at 72 chars when present.
- PRs should explain behavior changes, include reproduction steps, and, when UI changes affect the TUI panes, attach a short transcript or screenshot from a sample run.
- Link issues when applicable and call out any deviations from default pytest behavior (e.g., altered log formatting or output interception).
